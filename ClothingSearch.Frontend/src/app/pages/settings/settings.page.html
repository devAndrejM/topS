<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/search"></ion-back-button>
    </ion-buttons>
    <ion-title>Settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="settings-content">
  <div class="app-header">
    <div class="app-title">Settings</div>
    <div class="app-subtitle">Configure your preferences</div>
  </div>

  <!-- Location & Delivery Settings -->
  <div class="settings-group">
    <div class="settings-group-title">Location & Delivery</div>
    
    <div class="setting-item">
      <div class="setting-label">Country</div>
      <ion-select 
        [(ngModel)]="settings.country" 
        (ionChange)="saveSettings()"
        interface="popover"
        class="setting-select">
        <ion-select-option value="Croatia">Croatia</ion-select-option>
        <ion-select-option value="Germany">Germany</ion-select-option>
        <ion-select-option value="Austria">Austria</ion-select-option>
        <ion-select-option value="Slovenia">Slovenia</ion-select-option>
      </ion-select>
    </div>
    
    <div class="setting-item">
      <div class="setting-label">Currency</div>
      <div class="setting-value">{{ getCurrencyForCountry(settings.country) }}</div>
    </div>
  </div>

  <!-- Size Preferences -->
  <div class="settings-group">
    <div class="settings-group-title">Size Preferences</div>
    
    <div class="setting-item">
      <div class="setting-label">Clothing Size</div>
      <ion-select 
        [(ngModel)]="settings.clothingSize" 
        (ionChange)="saveSettings()"
        interface="popover"
        class="setting-select">
        <ion-select-option value="XS">XS</ion-select-option>
        <ion-select-option value="S">S</ion-select-option>
        <ion-select-option value="M">M</ion-select-option>
        <ion-select-option value="L">L</ion-select-option>
        <ion-select-option value="XL">XL</ion-select-option>
        <ion-select-option value="XXL">XXL</ion-select-option>
      </ion-select>
    </div>
    
    <div class="setting-item">
      <div class="setting-label">Shoe Size</div>
      <ion-select 
        [(ngModel)]="settings.shoeSize" 
        (ionChange)="saveSettings()"
        interface="popover"
        class="setting-select">
        <ion-select-option value="EU 38">EU 38</ion-select-option>
        <ion-select-option value="EU 39">EU 39</ion-select-option>
        <ion-select-option value="EU 40">EU 40</ion-select-option>
        <ion-select-option value="EU 41">EU 41</ion-select-option>
        <ion-select-option value="EU 42">EU 42</ion-select-option>
        <ion-select-option value="EU 43">EU 43</ion-select-option>
        <ion-select-option value="EU 44">EU 44</ion-select-option>
        <ion-select-option value="EU 45">EU 45</ion-select-option>
        <ion-select-option value="EU 46">EU 46</ion-select-option>
      </ion-select>
    </div>
    
    <div class="setting-item">
      <div class="setting-label">Size System</div>
      <ion-select 
        [(ngModel)]="settings.sizeSystem" 
        (ionChange)="saveSettings()"
        interface="popover"
        class="setting-select">
        <ion-select-option value="EU">EU</ion-select-option>
        <ion-select-option value="US">US</ion-select-option>
        <ion-select-option value="UK">UK</ion-select-option>
      </ion-select>
    </div>
  </div>

  <!-- Search Preferences -->
  <div class="settings-group">
    <div class="settings-group-title">Search Preferences</div>
    
    <div class="setting-item">
      <div class="setting-label">Default Sort</div>
      <ion-select 
        [(ngModel)]="settings.defaultSort" 
        (ionChange)="saveSettings()"
        interface="popover"
        class="setting-select">
        <ion-select-option value="price">Best Price</ion-select-option>
        <ion-select-option value="delivery">Fastest Delivery</ion-select-option>
        <ion-select-option value="relevance">Relevance</ion-select-option>
      </ion-select>
    </div>
    
    <div class="setting-item">
      <div class="setting-label">Show Unavailable Sizes</div>
      <ion-toggle 
        [(ngModel)]="settings.showUnavailable" 
        (ionChange)="saveSettings()"
        class="setting-toggle">
      </ion-toggle>
    </div>
  </div>

  <!-- Data & Privacy -->
  <div class="settings-group">
    <div class="settings-group-title">Data & Privacy</div>
    
    <div class="setting-item" (click)="clearRecentSearches()">
      <div class="setting-label">Clear Recent Searches</div>
      <div class="setting-value action">Clear →</div>
    </div>
    
    <div class="setting-item" (click)="resetSettings()">
      <div class="setting-label">Reset All Settings</div>
      <div class="setting-value action">Reset →</div>
    </div>
  </div>

  <!-- About -->
  <div class="settings-group">
    <div class="settings-group-title">About</div>
    
    <div class="setting-item">
      <div class="setting-label">App Version</div>
      <div class="setting-value">{{ appVersion }}</div>
    </div>
    
    <div class="setting-item" (click)="openPrivacyPolicy()">
      <div class="setting-label">Privacy Policy</div>
      <div class="setting-value action">View →</div>
    </div>
    
    <div class="setting-item" (click)="openSupport()">
      <div class="setting-label">Support</div>
      <div class="setting-value action">Contact →</div>
    </div>
  </div>
</ion-content>
